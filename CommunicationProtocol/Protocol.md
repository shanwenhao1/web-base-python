# Web开发中常用的协议

## DNS解析

将域名解析为IP

## TCP/IP

### 由TCP和IP协议组成:

IP只负责找到地址, 具体怎么传输是由TCP来完成

IP协议(属于七层网络协议中的网络层): 
- 功能
    - 寻址和路由(根据对方的IP地址, 寻找最佳路径传输信息)
    - 传递服务:
        - 不可靠, 可靠性由上层协议提供(TCP协议)
        - 无连接(事先不建立会话)
        - 数据包的分片和重组
        
TCP协议(属于七层网络协议中的传输层): 是面向连接的通信协议, 用来规范传输规则.
- 提供可靠的数据流服务, 采用""带重传的肯定确认"技术
- TCP传输前会进行[三次沟通](https://www.cnblogs.com/qq78292959/p/3922231.html)(握手连接), 
传输完成后则进行第四次沟通, 断开连接.

UDP协议: 是面向无连接的通讯协议:
- UDP数据包括目的端口号和源端口号信息,由于通讯不需要连接,所以可以实现广播发送.
- 属于不可靠的传输
- UDP主要用于那些面向查询---应答的服务,例如NFS.相对于FTP或Telnet,这些服务需要交换的信息量较小.

## [HTTP协议(超文本传输协议)](https://baike.baidu.com/item/http/243074?fr=aladdin)

HTTP是一个客户端和服务器端请求和应答的标准(TCP), 是无状态的协议(每一次请求都是互相独立的).

HTTP是应用层的协议, 在TCP/IP歇息接受到数据后需要通过HTTP歇息来解析后才能使用.

HTTP中报文很重要,报文分请求报文和响应报文两种类型,这两种类型都包括三部分:首行,头部,主体:
- 首行:
    - 请求报文的首行是请求行,包括方法（请求类型）,URL和HTTP版本三项内容
        - 请求报文中的方法有GET、HEAD、POST、PUT、DELETE
    - 响应请求的首行是状态行,包括HTTP版本,状态码,剪短原因其中原因可有可无.响应报文常见状态码:
        - 1XX:信息性状态码.
        - 2XX:成功状态码.如:200表示成功.
        - 3XX:重定向状态码.如:301表示发生重定向.
        - 4XX:客户端错误状态码:如:404表示没有找到请求的资源.
        - 5XX:服务端错误状态码:如:500表示系统内部错误.
- 头部: 头部保存一些键值对的属性,用冒号分割.
- 主体: 主体保存具体内容,请求报文中主要保存Post类型的参数,响应报文中保存页面要显示的结果.

一次HTTP操作称为一个事务, 其工作过程可分为四步:
- 客户机与服务器建立连接
- 建立连接后, 客户机发送请求给服务器, 请求方式的格式为: 统一资源标识符（URL）、
  协议版本号,后边是MIME信息包括请求修饰符、客户机信息和可能的内容.
- 服务器接到请求后, 给予相应的响应信息, 其格式为一个状态行, 包括信息的协议版本号、一个成功或错误的代码,
  后边是MIME信息包括服务器信息、实体信息和可能的内容.
- 客户端收到服务器响应后作出相应处理后, 断开与服务器的连接.
    
## WSGI(Web Server Gateway Interface)

WSGI是作为Web服务器与Web应用程序或应用框架之间的一种低级别的接口. 以提升可移植Web应用开发的共同点.
WSGI是基于现存的CGI标准而设计的. 其实是定义了一种server和application解耦的规范.

接口实现非常简单, 只要求Web开发者实现一个函数, 就可以响应HTTP请求. 

[Django With WSGI](https://www.jianshu.com/p/679dee0a4193)
[WSGI](https://www.jianshu.com/p/679dee0a4193)
- [WSGI Server流程](Picture/WSGI.png)


## 杂谈

- [Web开发中常用协议和标准](https://blog.csdn.net/qq360694660/article/details/80020197)